# Hyperledger Fabric :  A Distributed Operating System for Permissioned Blockchains

原文：https://arxiv.org/pdf/1801.10228.pdf  
作者：Elli Androulaki Artem Barger Vita Bortnikov Christian Cachin Konstantinos Christidis Angelo De Caro David Enyeart Christopher Ferris Gennady Laventman Yacov Manevich Srinivasan Muralidharan∗ Chet Murthy† Binh Nguyen ∗ Manish Sethi Gari Singh Keith Smith Alessandro Sorniotti Chrysoula Stathakopoulou Marko Vukoli´c Sharon Weed Cocco Jason Yellick I B M  
翻译：Vayne Tian  
  
## 摘要
Hyperledger Fabric是一个用来部署和操作拥有准入机制的区块链的模块化可扩展的开源系统。Fabric目前已经被应用在超过400种跨行业的生产系统和分布式账本技术的原型与概念实现中。  

让我们假设没有一种可以一劳永逸的解决方案，那Fabric就是第一个可扩展的运行分布式程序的区块链系统。它支持通过模块化的共识算法定制特定的使用场景和信任模型。Fabric还是第一个没有对原生加密货币有系统依赖性，并应用通用编程语言编写分布式程序的区块链。这和一些现在的主流区块链平台形成了鲜明对比，这些平台要么依赖于特定领域语言编写的智能合约，要么依赖于加密货币。此外，它还使用便携的成员资格的概念实现了一个准入模型，这将可能会与身份管理系统的行业标准结合。为了支持这种灵活性，Fabric用一种新奇的方式实现了拥有准入机制的区块链设计，并且改变了区块链处理不确定性、资源枯竭和性能攻击的问题。  

这篇文章描述了Fabric的架构，它的各种设计决定背后的原理，它的安全模型与保障，以及最显著的实现特征，和它的分布式系统编程模型。  

我们对Fabric进行了更深层次的评估，实现和测试一个比特币类的数字货币。结果显示，亚秒级延迟的情况下，在一个特定的合约部署中，Fabric实现了每秒超过3500个端到端交易的量级。

## 简介

区块链可以被如此定义：它是一个不可变账本，记录交易历史，维护一个毋须信任节点间的分布式网络。每个节点维护一个账本的副本。这个节点执行共识算法来验证交易，把他们分组进区块，并根据区块信息生成一个哈希链。这个过程将会给交易排序，这对于保证连续性和一致性是十分必要的。区块链已经从比特币的名号中脱颖而出，并被广泛的认为是一种有前景的在数字世界中进行信任交流的技术。  
在一个公有的没有准入机制的区块链中，任何一个没有特定身份的人都可以参与进来。公有链常常需要原生的加密货币，工作量证明作为共识算法和经济利益。  
从另一方面来讲，拥有准入机制的区块链中，在一系列已知身份的节点中运行区块链。它可以通过在一组毋须信任对方但有相同目的的的实体中保证安全性，就像在商业中进行基金、信息和商品的交换（都为了追求利益，而不需要信任对方）。由于节点身份已知，拥有准入机制的区块链可以使用传统的拜占庭容错作为共识算法。  

区块链在智能合约（例如以太坊的实现）的帮助下，可以实现任意可编程的交易逻辑。比特币中的脚本是合约的前身。一个智能合约可以像一个可信分布式应用一样运作,通过区块链和节点间的共识算法获取安全性。这与知名的通过状态机副本建立应用的方式十分类似。然而，使用拜占庭容错算法的区块链技术与传统的状态机副本区别如下：  
1.多个而不是只有一个分布式应用在并行运行。  
2.应用可以被任何人动态的创建部署。  
3.应用的代码是不受信任的甚至恶意的。  
这些特性需要新的设计来实现。

目前实现智能合约的区块链很多是基于状态机复制的蓝图，实现了所谓的活跃副本：  
1.共识算法，或是原子广播，首先对交易进行排列，然后把他们按排列广播给所有节点  
2.每个节点按照顺序执行交易  

我们把这个叫做顺序执行架构，它要求节点要执行每一个交易，并且所有的交易都是确定的。这种顺序执行架构可以在几乎所有现存的区块链中找到，无论是公有链，比如基于工作量证明的以太坊（存疑，原文如此，以太坊使用的是权益证明），或者是有准入机制的使用拜占庭容错算法的区块链，像Tendermint，Chain，Quorum 。尽管如此，顺序执行的设计并不是使用在所有的系统中，因为额外的交易可能会扰乱它，这种设计的限制是它与生俱来的：每个节点都要执行所有的交易，并且所有的交易必须是确定的。

早先的有准入机制的区块链受到许多限制，这些限制来源于相似的没有准入机制的区块链或是顺序执行架构。尤其是以下部分：  
1.共识机制是在平台中硬编码的（难以修改），这和之前所说的没有一种一劳永逸的（BFT）共识算法相矛盾。  
2.交易验证的信任模型是被共识算法所决定的，而这个模型不适应智能合约的一些要求。